(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{812:function(e,t,a){var n=a(878);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(10).default)("34639829",n,!1,{sourceMap:!1})},877:function(e,t,a){"use strict";var n=a(812);a.n(n).a},878:function(e,t,a){(t=a(9)(!1)).push([e.i,".filter-component-remote-select.ant-select{max-width:20em;min-width:8em}",""]),e.exports=t},909:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-select",{staticClass:"filter-component-remote-select",attrs:{placeholder:null==e.config.placeholder?"搜索和选择":e.config.placeholder,"show-search":"","allow-clear":!0,loading:e.loading,"filter-option":!1,mode:e.config.multiSelect?"multiple":void 0},on:{search:e.remoteMethod,change:function(t){return e.$emit("reloadData")}},model:{value:e.filterFormData[e.objectKey],callback:function(t){e.$set(e.filterFormData,e.objectKey,t)},expression:"filterFormData[objectKey]"}},e._l(e.options,(function(t){return a("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v("\n      "+e._s(t.label)+"\n   ")])})),1)};n._withStripped=!0;var o=a(40),r=a.n(o),l=a(774),i=a.n(l),s=a(65),c=a.n(s),u={props:{fieldName:{type:String,default:""},config:{type:Object,default:function(){return{}}},filterFormData:{type:[Object,Array],default:function(){return{}}},objectKey:{type:[String,Number],default:""}},data:function(){return{remoteOptions:[],loading:!1,lastQuery:""}},computed:{options:function(){for(var e=[],t=0;t<this.remoteOptions.length;t+=1){var a=this.remoteOptions[t];a&&e.push(a)}return e}},mounted:function(){this.remoteMethod("",!0)},methods:{remoteMethod:function(e){var t=arguments,a=this;return c()(r.a.mark((function n(){var o,l,s,c,u,f,d,p,m,v,h;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>1&&void 0!==t[1]&&t[1],a.loading=!0,a.lastQuery=e,n.prev=3,l=a.$ajax.post("list/filter-component-action/",{fieldName:a.fieldName,actionName:"getOptions",actionData:e}),s=null,!o||!a.value){n.next=16;break}return u=a.value,n.next=10,a.$ajax.post("list/filter-component-action/",{fieldName:a.fieldName,actionName:"getLabelByValue",actionData:u});case 10:if(f=n.sent,!(null===(c=f.data)||void 0===c?void 0:c.success)){n.next=15;break}s={label:f.data.data,value:u},n.next=16;break;case 15:throw new Error((null===(d=f.data)||void 0===d?void 0:d.message)||"拉取字段".concat(a.fieldName,"初始值失败了"));case 16:return n.next=18,l;case 18:if(p=n.sent,m=p.data,a.lastQuery!==e){n.next=27;break}if(!m.success){n.next=26;break}a.remoteOptions=i()(m.data),s&&(v=s.value,h=!1,a.options.forEach((function(e){e.value===v&&(h=!0)})),h||a.remoteOptions.push(s)),n.next=27;break;case 26:throw new Error(m.message||"搜索远程数据失败了");case 27:n.next=32;break;case 29:n.prev=29,n.t0=n.catch(3),a.lastQuery===e&&a.$message.error((null===n.t0||void 0===n.t0?void 0:n.t0.message)||String(n.t0)||"搜索失败了");case 32:a.loading=!1;case 33:case"end":return n.stop()}}),n,null,[[3,29]])})))()}}},f=(a(877),a(138)),d=Object(f.a)(u,n,[],!1,null,null,null);d.options.__file="src/client/pages/model-admin-list/filter-components/remote-select.vue";t.default=d.exports}}]);