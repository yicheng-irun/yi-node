(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{102:function(e,t,n){"use strict";var o=n(67);n.n(o).a},103:function(e,t,n){(t=n(19)(!1)).push([e.i,"",""]),e.exports=t},139:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{staticClass:"form-component-el-number-remote-select",attrs:{value:e.value,placeholder:null==e.config.placeholder?"搜索和选择":e.config.placeholder,clearable:!e.config.required,filterable:"",remote:"","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.handleInput}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)};o._withStripped=!0;var r=n(2),a=n.n(r),l=n(52),i=n.n(l),u=n(5),s=n.n(u),c=n(51),p=n.n(c),f={model:{prop:"value",event:"input"},props:{fieldName:{type:String,default:""},value:{type:Number,default:null},config:{type:Object,default:function(){return{}}}},data:function(){return{remoteOptions:[],loading:!1,lastQuery:""}},computed:{options:function(){for(var e=[],t=0;t<this.remoteOptions.length;t+=1){var n=this.remoteOptions[t];"object"===p()(n)&&void 0!==n.value?e.push({value:n.value,label:null==n.label?n.value:n.label}):e.push({value:n,label:String(n)})}return e}},mounted:function(){this.remoteMethod("",!0)},methods:{remoteMethod:function(e){var t=arguments,n=this;return s()(a.a.mark((function o(){var r,l,u,s,c,p,f,m,d,v,b;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=t.length>1&&void 0!==t[1]&&t[1],n.loading=!0,n.lastQuery=e,o.prev=3,l=n.$ajax.post("component-action/",{fieldName:n.fieldName,actionName:"getOptions",actionData:e}),u=null,!r||!n.value){o.next=16;break}return c=n.value,o.next=10,n.$ajax.post("component-action/",{fieldName:n.fieldName,actionName:"getLabelByValue",actionData:c});case 10:if(p=o.sent,!(null===(s=p.data)||void 0===s?void 0:s.success)){o.next=15;break}u={label:p.data.data,value:c},o.next=16;break;case 15:throw new Error((null===(f=p.data)||void 0===f?void 0:f.message)||"拉取字段".concat(n.fieldName,"初始值失败了"));case 16:return o.next=18,l;case 18:if(m=o.sent,d=m.data,n.lastQuery!==e){o.next=27;break}if(!d.success){o.next=26;break}n.remoteOptions=i()(d.data),u&&(v=u.value,b=!1,n.options.forEach((function(e){e.value===v&&(b=!0)})),b||n.remoteOptions.push(u)),o.next=27;break;case 26:throw new Error(d.message||"搜索远程数据失败了");case 27:o.next=32;break;case 29:o.prev=29,o.t0=o.catch(3),n.lastQuery===e&&n.$message.error((null===o.t0||void 0===o.t0?void 0:o.t0.message)||String(o.t0)||"搜索失败了");case 32:n.loading=!1;case 33:case"end":return o.stop()}}),o,null,[[3,29]])})))()},handleInput:function(e){"number"==typeof e?this.$emit("input",e):this.$emit("input",null)}}},m=(n(102),n(49)),d=Object(m.a)(f,o,[],!1,null,null,null);d.options.__file="src/client/pages/model-admin-edit/form-components/number-remote-select.vue";t.default=d.exports},50:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},51:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},52:function(e,t,n){var o=n(53),r=n(54),a=n(55),l=n(56);e.exports=function(e){return o(e)||r(e)||a(e)||l()}},53:function(e,t,n){var o=n(50);e.exports=function(e){if(Array.isArray(e))return o(e)}},54:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},55:function(e,t,n){var o=n(50);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},56:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},67:function(e,t,n){var o=n(103);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(20).default)("46753ad2",o,!1,{sourceMap:!1})}}]);