(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{780:function(e,t,a){"use strict";var i=a(2),n=a.n(i),r={placeholder:"请选择时间"},o={lang:n()({placeholder:"请选择日期",rangePlaceholder:["开始日期","结束日期"]},{today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"}),timePickerLocale:n()({},r)};o.lang.ok="确 定";var l={locale:"zh-cn",Pagination:{items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"},DatePicker:o,TimePicker:r,Calendar:o,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",selectAll:"全选当页",selectInvert:"反选当页",sortTitle:"排序",expand:"展开行",collapse:"关闭行"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"}};t.a=l},781:function(e,t,a){var i=a(823);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(10).default)("64cb2704",i,!1,{sourceMap:!1})},822:function(e,t,a){"use strict";var i=a(781);a.n(i).a},823:function(e,t,a){(t=a(9)(!1)).push([e.i,"#admin-site-page,body,html{position:relative;width:100%;height:100%;overflow:hidden}#admin-site-page{background:#f5f6f7;color:rgba(0,0,0,.667)}#admin-site-page>.admin-left-block{position:absolute;width:15em;height:100%;overflow-y:auto;overflow-x:visible;background-color:#001529;box-shadow:0 0 .3em rgba(0,0,0,.067);color:hsla(0,0%,100%,.733);z-index:10}#admin-site-page>.admin-left-block.collapse-style{width:80px}#admin-site-page>.admin-right-block{position:relative;height:100%;margin:0 0 0 15em;transition:margin-left .3s;overflow-x:auto}#admin-site-page>.admin-right-block.collapse-style{margin-left:80px}#admin-site-page>.admin-right-block>.admin-header{position:relative;top:0;width:100%;min-width:1100px;height:3em;line-height:3em;z-index:10;background:#fff;box-shadow:0 0 .4em rgba(0,0,0,.067);border-bottom:1px dotted rgba(0,0,0,.133)}#admin-site-page>.admin-right-block>.admin-header>.collapse-icon{display:inline-block;padding:0 1em;border-right:1px dotted rgba(0,0,0,.133);cursor:pointer}#admin-site-page>.admin-right-block>.admin-header>.collapse-icon:hover{background:rgba(0,0,0,.067)}#admin-site-page>.admin-right-block>.admin-header>.collapse-icon>i{font-size:1.2em}#admin-site-page>.admin-right-block>.admin-header>.site-name{display:inline-block;vertical-align:top;font-size:1.1em;padding:0 1em;margin:0 .2em}#admin-site-page>.admin-right-block>.admin-main{position:absolute;top:3em;bottom:0;width:100%;min-width:1100px;z-index:5}#admin-site-page>.admin-right-block>.admin-main>iframe{width:100%;height:100%;border:none}",""]),e.exports=t},928:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-config-provider",{attrs:{locale:e.zhCN}},[a("div",{attrs:{id:"admin-site-page"}},[a("div",{staticClass:"admin-left-block",class:e.collapsed?"collapse-style":""},[a("menu-tree",{attrs:{"site-menu":e.siteMenu.children,collapsed:e.collapsed}})],1),a("div",{staticClass:"admin-right-block",class:e.collapsed?"collapse-style":""},[a("div",{staticClass:"admin-header"},[a("span",{staticClass:"collapse-icon",on:{click:function(t){e.collapsed=!e.collapsed}}},[a("a-icon",{attrs:{type:e.collapsed?"menu-unfold":"menu-fold"}})],1),a("span",{staticClass:"site-name"},[e._v("\n               "+e._s(e.siteConfig.siteName)+"\n            ")])]),a("div",{staticClass:"admin-main"},[a("iframe",{ref:"iframe",attrs:{name:"main_frame",src:e.state.iframeSrc}})])])])])};i._withStripped=!0;var n=a(40),r=a.n(n),o=a(65),l=a.n(o),s=a(780),c=a(139),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu-tree"},[a("a-menu",{ref:"mainMenu",attrs:{mode:"inline","inline-collapsed":e.collapsed,theme:"dark"},on:{click:e.clickMenu}},[e._l(e.siteMenu,(function(t,i){return[0===t.children.length?a("a-menu-item",{key:""+i,attrs:{disabled:!t.link,title:t.title,value:t.link}},[a("a",{attrs:{href:t.link,target:t.target||"main_frame"}},[t.icon?a("a-icon",{attrs:{type:t.icon}}):e._e(),e._v(e._s(t.title))],1)]):a("a-sub-menu",{key:""+i},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"folder"}}),a("span",[e._v(e._s(t.title))])],1),e._l(t.children,(function(n,r){return[0===n.children.length?a("a-menu-item",{key:i+"_"+r,attrs:{disabled:!n.link,value:n.link,title:n.title}},[a("a",{attrs:{href:n.link,target:n.target||"main_frame"}},[n.icon?a("a-icon",{attrs:{type:n.icon}}):e._e(),e._v(e._s(n.title))],1)]):a("a-sub-menu",{key:i+"_"+r},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"folder"}}),a("span",[e._v(e._s(t.title))])],1),e._l(n.children,(function(t,n){return[a("a-menu-item",{key:i+"_"+r+"_"+n,attrs:{disabled:!t.link,value:t.link,title:t.title}},[a("a",{attrs:{href:t.link,target:t.target||"main_frame"}},[t.icon?a("a-icon",{attrs:{type:t.icon}}):e._e(),e._v(e._s(t.title))],1)])]}))],2)]}))],2)]}))],2)],1)};d._withStripped=!0;var m={compnents:{},props:{collapsed:{type:Boolean,default:!1},siteMenu:{type:Array,default:function(){return[]}}},mounted:function(){var e=decodeURIComponent(window.location.hash.replace(/^#/,""));if(e)try{var t;console.log(e);var a=JSON.parse(e),i=null==a?void 0:a.link;i&&window.open(i,"main_frame");var n=null!==(t=null==a?void 0:a.menuPath)&&void 0!==t?t:[];n&&Array.isArray(n)&&this.$refs.mainMenu.setOpenKeys(n)}catch(e){console.error(e)}},methods:{clickMenu:function(e){var t=e.keyPath,a=e.item.value;if(a){var i=JSON.stringify({link:a,menuPath:t});window.history.replaceState(null,"","#".concat(i))}}}},p=a(138),u=Object(p.a)(m,d,[],!1,null,null,null);u.options.__file="src/client/pages/site/menu-tree.vue";var f={components:{MenuTree:u.exports},createStore:function(e){var t=e.ajax.get;return new c.a.Store({state:{siteMenu:null,siteConfig:{},iframeSrc:""},mutations:{setSiteMenu:function(e,t){e.siteMenu=t},setSiteConfig:function(e,t){e.siteConfig=t}},actions:{fetchSiteMenu:function(e){return l()(r.a.mark((function a(){var i,n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.commit,a.next=3,t("site-menu/",{});case 3:n=a.sent,o=n.data,i("setSiteMenu",o.data);case 6:case"end":return a.stop()}}),a)})))()},fetchSiteConfig:function(e){return l()(r.a.mark((function a(){var i,n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.commit,a.next=3,t("site-config/",{});case 3:n=a.sent,o=n.data,i("setSiteConfig",o.data);case 6:case"end":return a.stop()}}),a)})))()}}})},fetchData:function(e){return l()(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.store.dispatch("fetchSiteMenu"),e.store.dispatch("fetchSiteConfig")]);case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{collapsed:!1,zhCN:s.a}},computed:{state:function(){return this.$store.state},siteMenu:function(){return this.state.siteMenu},siteConfig:function(){return this.state.siteConfig}}},h=(a(822),Object(p.a)(f,i,[],!1,null,null,null));h.options.__file="src/client/pages/site/app.vue";t.default=h.exports}}]);